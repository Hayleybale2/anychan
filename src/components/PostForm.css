@import "../styles/common.css";

.PostForm {
	--PostForm-paddingLeft: var(--Post-paddingLeft);
	--PostForm-paddingBottom: var(--Post-paddingBottom);

	--PostFormActionIcon-width: calc(var(--unit) * 2.2);

	--PostFormAction-paddingLeft: var(--unit);
	--PostFormAction-paddingTop: calc(var(--unit) * 0.75);

	--PostFormClose-padding: calc(var(--unit) * 1);
	--PostFormCloseIcon-width: calc(var(--unit) * 1);

	--PostFormTextInput-marginRight: var(--unit);

	--rrui-multiline-text-height: auto;
	display: flex;

	/* Loading indicator is `position: absolute`. */
	position: relative;

  background-color: var(--Post-backgroundColor);
  box-shadow: var(--Comment-boxShadow);
  border: var(--Comment-border);

	padding-top: var(--PostForm-paddingBottom);
  padding-bottom: var(--PostForm-paddingBottom);
  padding-left: var(--PostForm-paddingLeft);
  padding-right: var(--PostForm-paddingLeft);
}

.PostForm-textInput {
	flex: 1;
	margin-right: var(--PostFormTextInput-marginRight);
}

.PostForm-actionIcon {
	width: var(--PostFormActionIcon-width);
	height: var(--PostFormActionIcon-width);
}

.PostForm-action {
	width: calc(var(--PostFormActionIcon-width) + 2 * var(--PostFormAction-paddingLeft));
	height: calc(var(--PostFormActionIcon-width) + 2 * var(--PostFormAction-paddingTop));

	margin-left: calc(-1 * var(--PostFormAction-paddingLeft));
	margin-right: calc(-1 * var(--PostFormAction-paddingLeft));
	margin-top: calc(-1 * var(--PostFormAction-paddingTop));
	margin-bottom: calc(-1 * var(--PostFormAction-paddingTop));

	padding-left: var(--PostFormAction-paddingLeft);
	padding-right: var(--PostFormAction-paddingLeft);
	padding-top: var(--PostFormAction-paddingTop);
	padding-bottom: var(--PostFormAction-paddingTop);

	align-self: flex-end;

	color: var(--Clickable-color--textActive);

	&:active {
		color: var(--Clickable-color);
	}

	/*
	@mixin m-plus {
		margin-right: var(--unit);
		&:last-child {
			margin-right: 0;
		}
	}
	*/

	.rrui__button__busy {
		display: none;
	}
}

.PostForm-close {
	position: absolute;
	top: 0;
	right: 0;

	width: calc(var(--PostFormCloseIcon-width) + 2 * var(--PostFormClose-padding));
	height: calc(var(--PostFormCloseIcon-width) + 2 * var(--PostFormClose-padding));

	color: var(--Content-color-300);

	&:active {
		color: var(--Clickable-color);
		opacity: 0.5;
	}
}

.PostForm-closeIcon {
	width: var(--PostFormCloseIcon-width);
	height: var(--PostFormCloseIcon-width);
}

.PostForm-error {
	color: var(--Critical-color);
}

.PostForm-loading {
	position: absolute;
	width: calc(100% - var(--Post-paddingLeft) - var(--PostFormTextInput-marginRight) - var(--PostFormActionIcon-width) - var(--Post-paddingRight));
	left: var(--Post-paddingLeft);
	bottom: var(--PostForm-paddingBottom);
}